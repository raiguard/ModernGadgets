[Rainmeter]
MiddleMouseDownAction=[!Refresh]
MouseOverAction=[!ShowMeterGroup ConfigButton][!UpdateMeterGroup ConfigButton][!ShowMeterGroup NetTotalsRefreshButtons1][!UpdateMeterGroup NetTotalsRefreshButtons1][!ShowMeterGroup SpeedtestButton1][!UpdateMeterGroup SpeedtestButton1][!UpdateMeterGroup Background][!Redraw]
MouseLeaveAction=[!HideMeterGroup ConfigButton][!UpdateMeterGroup ConfigButton][!HideMeterGroup NetTotalsRefreshButtons1][!UpdateMeterGroup NetTotalsRefreshButtons1][!HideMeterGroup SpeedtestButton1][!UpdateMeterGroup SpeedtestButton1][!UpdateMeterGroup Background][!Redraw]
Group=ModernGadgets | MgGlobalRefresh | MgImportRefresh | MgNetworkMeter
AccurateText=1

; Custom Context Menu
ContextTitle=Network Meter settings
ContextAction=[!ActivateConfig "ModernGadgets\NetworkMeter\Settings" "NetworkMeterSettings.ini"]
ContextTitle2=Global settings
ContextAction2=[!ActivateConfig "ModernGadgets\Settings\GlobalSettings" "GlobalSettings.ini"]
ContextTitle3=Gadget manager
ContextAction3=[!ActivateConfig "ModernGadgets\Settings\GadgetManager" "GadgetManager.ini"]

[Metadata]
Name=Network Meter
Author=raiguard
Information=A Rainmeter recreation of the Network Meter gadget, updated and enhanced to give it a "modern" feel.
License=Creative Commons Attribution-NonCommercial-ShareAlike 3.0
Version=1.6.3

; ========= Variables and Styles =========

[Variables]
@includeStyleSheet=#@#StyleSheet.inc
@includeGlobalSettings=#@#Settings\GlobalSettings.inc
@includeNetworkSettings=#@#Settings\NetworkSettings.inc
@includeDynamicVars=#dynamicVarsPath#

maxBitsPerSec=0
maxBytesPerSec=0
textNetInOutPeakBits="0.0000 k"
textNetInOutPeakBytes="0.0000 k"

textNetInBits=""
textNetInBytes=""
textNetInSessionTotal=""
textNetInTotal=""
textNetOutBits=""
textNetOutBytes=""
textNetOutSessionTotal=""
textNetOutTotal=""

columnX=(#dColumnX# - 2)
netInOutFontFace=#fontFaceCn#
adapterFound=0

netStatus=Disconnected

netIconTooltipIcon_Disconnected_-1=Error
netIconTooltipIcon_71_1=Info
netIconTooltipIcon_71_-1=Warning
netIconTooltipIcon_6_1=Info
netIconTooltipIcon_6_-1=Warning

netIconTooltipText_Disconnected_-1=Please check your network settings
netIconTooltipText_71_1=[MeasureWifiSSID]#CRLF#[MeasureBestAdapterName]#CRLF#Signal Strength: [MeasureWifiQuality:]% ([MeasureWifiDbm:1] dBm)
netIconTooltipText_71_-1=[MeasureWifiSSID]#CRLF#[MeasureBestAdapterName]#CRLF#Signal Strength: [MeasureWifiQuality:]% ([MeasureWifiDbm:1] dBm)#CRLF#LAN only - no internet connection.
netIconTooltipText_6_1=[MeasureBestAdapterName]
netIconTooltipText_6_-1=[MeasureBestAdapterName]#CRLF#LAN only - no internet connection.

signal_fill_1=0
signal_fill_2=0
signal_fill_3=0
signal_fill_4=0
signal_dim_1=0
signal_dim_2=0
signal_dim_3=0
signal_dim_4=0

currentAdapter=[MeasureBestAdapterName]

[StylePeakIcon]
X=#contentMargin#
Y=(#showPeakNetworkUsage# = 1 ? 1 : -1)R
Shape = Path Path1 | StrokeWidth 0 | Extend Fill
Shape2 = Path Path2 | StrokeWidth 0
Shape3 = Path Path3 | StrokeWidth 0
Shape4 = Combine Shape1 | XOR Shape2 | XOR Shape3 | Scale 0.56,0.6,0,0 | Offset -1.5,-0.5
Path1 = 6.4, 9.2 | LineTo 6.6, 9.2 | CurveTo 8, 10.6, 7.37, 9.2, 8, 9.83 | LineTo 8, 17.6 | CurveTo 6.6, 19, 8, 18.37, 7.37, 19 | LineTo 6.4, 19 | CurveTo 5, 17.6, 5.63, 19, 5, 18.37 | LineTo 5, 10.6 | CurveTo 6.4, 9.2, 5, 9.83, 5.63, 9.2 | ClosePath 1
Path2 = 12, 5 | CurveTo 13.4, 6.4, 12.77, 5, 13.4, 5.63 | LineTo 13.4, 17.6 | CurveTo 12, 19, 13.4, 18.37, 12.77, 19 | CurveTo 10.6, 17.6, 11.23, 19, 10.6, 18.37 | LineTo 10.6, 6.4 | CurveTo 12, 5, 10.6, 5.63, 11.23, 5 | ClosePath 1
Path3 = 17.6, 13 | CurveTo 19, 14.4, 18.37, 13, 19, 13.63 | LineTo 19, 17.6 | CurveTo 17.6, 19, 19, 18.37, 18.37, 19 | CurveTo 16.2, 17.6, 16.83, 19, 16.2, 18.37 | LineTo 16.2, 14.4 | CurveTo 17.6, 13, 16.2, 13.63, 16.83, 13 | ClosePath 1
Fill=Fill Color #colorPeak#
TransformationMatrix=#transformationMatrix#
DynamicVariables=1

[StyleDynamicVariables]
DynamicVariables=1

; ==================================================
;  MEASURES

[MeasureFixedPrecisionFormatScript]
Measure=Script
ScriptFile=#scriptPath#FixedPrecisionFormat.lua

[MeasureLoadSkinScript]
Measure=Script
ScriptFile=#scriptPath#LoadSkin.lua

[MeasureConfigActive]
Measure=Plugin
Plugin=ConfigActive

[MeasureSettingsScript]
Measure=Script
ScriptFile=#scriptPath#Settings.lua
SettingsPath=#@#Settings\NetworkSettings.inc
ExternalIpAction=[!UpdateMeasure MeasureExternalIpString][!UpdateMeterGroup ExternalIp][!Redraw]

; ------------------------------
; CONNECTIVITY

[MeasureConnectedLan]
Measure=Plugin
Plugin=SysInfo
SysInfoType=LAN_CONNECTIVITY
OnChangeAction=[!UpdateMeasure MeasureAdapterStatusCalc]

[MeasureConnectedWan]
Measure=Plugin
Plugin=SysInfo
SysInfoType=INTERNET_CONNECTIVITY
OnChangeAction=[!SetOptionGroup ActiveNet Refresh "ya"][!UpdateMeasureGroup ActiveNet][!UpdateMeasure MeasureAdapterStatusCalc][!EnableMeasure MeasureExternalIp][!CommandMeasure MeasureExternalIp "Reset"][!CommandMeasure MeasureExternalIp "Update"]

; ------------------------------
; ACTIVE ADAPTER

[MeasureBestAdapterName]
Measure=Plugin
Plugin=SysInfo
SysInfoType=ADAPTER_DESCRIPTION
SysInfoData=Best
DynamicVariables=1
OnChangeAction=[!Log "Network adapter changed, refreshing ActiveNet info" Notice][!SetOptionGroup ActiveNet Refresh "ya"][!UpdateMeasureGroup ActiveNet][!UpdateMeasure MeasureAdapterStatusCalc]

[MeasureAdapterType]
Measure=Plugin
Plugin=ActiveNet
Type=NetAdapterType
Name=#currentAdapter#
Group=ActiveNet | ActiveNetAdapterInfo
UpdateDivider=-1

[MeasureInterfaceName]
Measure=Plugin
Plugin=ActiveNet
Type=NetInterfaceName
Name=#currentAdapter#
Group=ActiveNet | ActiveNetAdapterInfo
UpdateDivider=-1

[MeasureInterfaceId]
Measure=Plugin
Plugin=ActiveNet
Type=NetInterfaceID
Name=#currentAdapter#
Group=ActiveNet | ActiveNetAdapterInfo
UpdateDivider=-1

; ------------------------------
; ADAPTER STATUS DETECTION

[MeasureAdapterStatusEthernet]
Measure=Plugin
Plugin=ActiveNet
Type=NetStatus
Name=#interfaceEthernet#
Group=ActiveNet
UpdateDivider=-1

[MeasureAdapterStatusWireless]
Measure=Plugin
Plugin=ActiveNet
Type=NetStatus
Name=#interfaceWireless#
Group=ActiveNet
UpdateDivider=-1

[MeasureAdapterStatusOther]
Measure=Plugin
Plugin=ActiveNet
Type=NetStatus
Name=#interfaceOther#
Group=ActiveNet
UpdateDivider=-1

[MeasureAdapterStatusBest]
Measure=Plugin
Plugin=ActiveNet
Type=NetStatus
Name=[MeasureBestAdapterName]
Group=ActiveNet
UpdateDivider=-1

[MeasureAdapterStatusCalc]
Measure=Calc
Formula=(MeasureAdapterStatusEthernet = 1 ? 1 : 0) + (MeasureAdapterStatusWireless = 1 ? 2 : 0) + (MeasureAdapterStatusOther = 1 ? 4 : 0) + (((MeasureAdapterStatusEthernet = 4) && (MeasureAdapterStatusWireless = 4) && (MeasureAdapterStatusOther = 4) && (MeasureConnectedLan = 1)) ? 8 : 0)
IfCondition=(MeasureAdapterStatusEthernet = 1)
IfTrueAction=[!SetVariable currentAdapter "#interfaceEthernet#"][!SetOptionGroup ActiveNet Refresh "ya"][!UpdateMeasureGroup ActiveNet][!UpdateMeter MeterNetIcon_]
IfCondition2=(MeasureAdapterStatusEthernet <> 1) && (MeasureAdapterStatusWireless = 1)
IfTrueAction2=[!SetVariable currentAdapter "#interfaceWireless#"][!SetOptionGroup ActiveNet Refresh "ya"][!UpdateMeasureGroup ActiveNet][!UpdateMeter MeterNetIcon_]
IfCondition3=(MeasureAdapterStatusEthernet <> 1) && (MeasureAdapterStatusWireless <> 1) && (MeasureAdapterStatusOther = 1)
IfTrueAction3=[!SetVariable currentAdapter "#interfaceOther#"][!SetOptionGroup ActiveNet Refresh "ya"][!UpdateMeasureGroup ActiveNet][!UpdateMeter MeterNetIcon_]
IfCondition4=(MeasureAdapterStatusEthernet = 4) && (MeasureAdapterStatusWireless = 4) && (MeasureAdapterStatusOther = 4) && (MeasureAdapterStatusBest = 1)
IfTrueAction4=[!SetVariable currentAdapter "[*MeasureBestAdapterName*]"][!SetOptionGroup ActiveNet Refresh "ya"][!UpdateMeasureGroup ActiveNet][!UpdateMeter MeterNetIcon_]
IfConditionMode=1
DynamicVariables=1
UpdateDivider=-1

; ------------------------------
; ADAPTER CONFIG

[MeasureCheckAdapterConfigEthernet]
Measure=String
String=#interfaceEthernet#
RegExpSubstitute=1
Substitute="^(.+)$":"enabled","^$":"disabled"
IfMatchMode=1
IfMatch="enabled"
IfMatchAction=[!EnableMeasureGroup "MeasureEthernet"][!SetVariable adapterFound 1]
IfNotMatchAction=[!DisableMeasureGroup "MeasureEthernet"]
UpdateDivider=-1
DynamicVariables=1
Group=AdapterConfig

[MeasureCheckAdapterConfigWireless]
Measure=String
String=#interfaceWireless#
RegExpSubstitute=1
Substitute="^(.+)$":"enabled","^$":"disabled"
IfMatchMode=1
IfMatch="enabled"
IfMatchAction=[!EnableMeasureGroup "MeasureWireless"][!SetVariable adapterFound 1]
IfNotMatchAction=[!DisableMeasureGroup "MeasureWireless"]
UpdateDivider=-1
DynamicVariables=1
Group=AdapterConfig

[MeasureCheckAdapterConfigOther]
Measure=String
String=#interfaceOther#
RegExpSubstitute=1
Substitute="^(.+)$":"enabled","^$":"disabled"
IfMatchMode=1
IfMatch="enabled"
IfMatchAction=[!EnableMeasureGroup "MeasureOther"][!SetVariable adapterFound 1]
IfNotMatchAction=[!DisableMeasureGroup "MeasureOther"]
UpdateDivider=-1
DynamicVariables=1
Group=AdapterConfig

; ------------------------------
; ADAPTER AUTO CONFIG

[MeasureAdapterAutoConfig]
Measure=Calc
IfCondition=(#adapterFound# = 0) && (#autoAdapterConfig# = 1)
IfTrueAction=[!Log "No network adapter found, auto-configuring..." Notice][!SetOption MeterGadgetTitle Text "Configuring..."][!WriteKeyValue Variables autoAdapterConfig 0 "#networkSettingsPath#"][!CommandMeasure MeasureRunGetEthernetInterface "Run"]
IfCondition2=(#adapterFound# = 0) && (#autoAdapterConfig# = 0)
IfTrueAction2=[!Log "No network adapter found, monitoring active interface" Notice][!EnableMeasureGroup MeasureBest][!UpdateMeasureGroup MeasureBest]
DynamicVariables=1

[MeasureRunGetEthernetInterface]
Measure=Plugin
Plugin=RunCommand
Parameter="powershell -NonInteractive -Command "(Get-WmiObject -Class MSFT_NetAdapter -Filter 'InterfaceType = 6 and Virtual = False' -Namespace root\StandardCimv2 | Sort -Property InterfaceDescription | Select -First 1).InterfaceDescription""
OutputType=ANSI
State=Hide
Timeout=10000
Substitute="#CRLF#":""
IfMatch=^.+$
IfMatchAction=[!Log "Found ethernet adapter: [MeasureRunGetEthernetInterface]" Notice]
FinishAction=[!UpdateMeasure #CURRENTSECTION#][!WriteKeyValue Variables InterfaceEthernet "[MeasureRunGetEthernetInterface]" "#networkSettingsPath#"][!CommandMeasure MeasureRunGetWirelessInterface "Run"]

[MeasureRunGetWirelessInterface]
Measure=Plugin
Plugin=RunCommand
Parameter="powershell -NonInteractive -Command "(Get-WmiObject -Class MSFT_NetAdapter -Filter 'InterfaceType = 71 and Virtual = False' -Namespace root\StandardCimv2 | Sort -Property InterfaceDescription | Select -First 1).InterfaceDescription""
OutputType=ANSI
State=Hide
Timeout=10000
Substitute="#CRLF#":""
IfMatch=^.+$
IfMatchAction=[!Log "Found wireless adapter: [MeasureRunGetWirelessInterface]" Notice]
FinishAction=[!UpdateMeasure #CURRENTSECTION#][!WriteKeyValue Variables InterfaceWireless "[MeasureRunGetWirelessInterface]" "#networkSettingsPath#"][!Log "Network interface autoconfig completed, restarting!" Notice][!RefreshGroup MgNetworkMeter]

; ------------------------------
; NETWORK TRAFFIC

@includeNetworkTraffic=Includes\#monitoringType#.inc

; Calculations
[MeasureNetInBytes]
Measure=Calc
Formula=MeasureNetInEthernetBytes + MeasureNetInWirelessBytes + MeasureNetInOtherBytes + MeasureNetInBestBytes
IfCondition=1
IfTrueAction=[!SetVariable textNetInBytes [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetInBytes],5,'1k')]]
OnChangeAction=[!SetVariable textNetInBytes [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetInBytes],5,'1k')]]
DynamicVariables=1

[MeasureNetInBitsCalc]
Measure=Calc
Formula=MeasureNetInBytes * 8
IfCondition=1
IfTrueAction=[!SetVariable textNetInBits [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetInBitsCalc],5,'1k')]]
OnChangeAction=[!SetVariable textNetInBits [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetInBitsCalc],5,'1k')]]
DynamicVariables=1

[MeasureNetInBytesSessionTotal]
Measure=Calc
Formula=MeasureNetInEthernetBytesSessionTotal + MeasureNetInWirelessBytesSessionTotal + MeasureNetInOtherBytesSessionTotal + MeasureNetInBestBytesSessionTotal
IfCondition=1
IfTrueAction=[!SetVariable textNetInSessionTotal [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetInBytesSessionTotal],6,'1k')]]
OnChangeAction=[!SetVariable textNetInSessionTotal [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetInBytesSessionTotal],6,'1k')]]
DynamicVariables=1

[MeasureNetInBytesTotal]
Measure=Calc
Formula=MeasureNetInEthernetBytesTotal + MeasureNetInWirelessBytesTotal + MeasureNetInOtherBytesTotal + MeasureNetInBestBytesTotal
IfCondition=1
IfTrueAction=[!SetVariable textNetInTotal [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetInBytesTotal],6,'1k')]]
OnChangeAction=[!SetVariable textNetInTotal [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetInBytesTotal],6,'1k')]]
DynamicVariables=1

[MeasureNetOutBytes]
Measure=Calc
Formula=MeasureNetOutEthernetBytes + MeasureNetOutWirelessBytes + MeasureNetOutOtherBytes + MeasureNetOutBestBytes
IfCondition=1
IfTrueAction=[!SetVariable textNetOutBytes [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetOutBytes],5,'1k')]]
OnChangeAction=[!SetVariable textNetOutBytes [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetOutBytes],5,'1k')]]
DynamicVariables=1

[MeasureNetOutBitsCalc]
Measure=Calc
Formula=MeasureNetOutBytes * 8
IfCondition=1
IfTrueAction=[!SetVariable textNetOutBits [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetOutBitsCalc],5,'1k')]]
OnChangeAction=[!SetVariable textNetOutBits [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetOutBitsCalc],5,'1k')]]
DynamicVariables=1

[MeasureNetOutBytesSessionTotal]
Measure=Calc
Formula=MeasureNetOutEthernetBytesSessionTotal + MeasureNetOutWirelessBytesSessionTotal + MeasureNetOutOtherBytesSessionTotal + MeasureNetOutBestBytesSessionTotal
IfCondition=1
IfTrueAction=[!SetVariable textNetOutSessionTotal [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetOutBytesSessionTotal],6,'1k')]]
OnChangeAction=[!SetVariable textNetOutSessionTotal [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetOutBytesSessionTotal],6,'1k')]]
DynamicVariables=1

[MeasureNetOutBytesTotal]
Measure=Calc
Formula=MeasureNetOutEthernetBytesTotal + MeasureNetOutWirelessBytesTotal + MeasureNetOutOtherBytesTotal + MeasureNetOutBestBytesTotal
IfCondition=1
IfTrueAction=[!SetVariable textNetOutTotal [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetOutBytesTotal],6,'1k')]]
OnChangeAction=[!SetVariable textNetOutTotal [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetOutBytesTotal],6,'1k')]]
DynamicVariables=1

; ------------------------------
; PING

[MeasurePing]
Measure=Plugin
Plugin=PingPlugin
DestAddress=#pingUrl#
FinishAction=[!UpdateMeter PingString][!Redraw]

; ------------------------------
; MAX TRANSFER SPEED

[MeasureNetInOutPeakBits]
Measure=Calc
Formula=Max(Max(MeasureNetInBitsCalc, MeasureNetOutBitsCalc), #maxBitsPerSec#)
IfConditionMode=1
IfCondition=(MeasureNetInOutPeakBits > #maxBitsPerSec#)
IfTrueAction=[!SetVariable maxBitsPerSec [MeasureNetInOutPeakBits:]][!SetVariable textNetInOutPeakBits [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetInOutPeakBits],5,'1k')]]
DynamicVariables=1
Group=NetInOut

[MeasureNetInOutPeakBytes]
Measure=Calc
Formula=Max(Max(MeasureNetInBytes, MeasureNetOutBytes), #maxBytesPerSec#)
IfConditionMode=1
IfCondition=(MeasureNetInOutPeakBytes > #maxBytesPerSec#)
IfTrueAction=[!SetVariable maxBytesPerSec [MeasureNetInOutPeakBytes:]][!SetVariable textNetInOutPeakBytes [&MeasureFixedPrecisionFormatScript:FormatNumber([&MeasureNetInOutPeakBytes],5,'1k')]]
DynamicVariables=1
Group=NetInOut

; ------------------------------
; IP ADDRESSES

[MeasureInternalIp]
Measure=Plugin
Plugin=SysInfo
SysInfoType=IP_ADDRESS
SysInfoData=Best
DynamicVariables=1

[MeasureExternalIp]
Measure=WebParser
URL=https://api.ipify.org/
RegExp=(?siU)^(.*)$
StringIndex=1
ForceReload=1
FinishAction=[!SetVariable externalIp "[MeasureExternalIp]"][!WriteKeyValue "Variables" "externalIp" "[MeasureExternalIp]" "#dynamicVarsPath#"][!UpdateMeasure MeasureExternalIpString][!UpdateMeter MeterExternalIpValueString_][!Redraw][!DisableMeasure MeasureExternalIp]
Disabled=1

;
; NOTE:  Websites that can be used for obtaining your external IP address:
;
;   Url=https://secure.internode.on.net/webtools/showmyip?textonly=1  RegExp="(.*)"
;   Url=http://checkip.dyndns.org                                     RegExp="(?siU)Address: (.*)</body>"
;   Url=http://ipdetect.dnspark.com                                   RegExp="(?siU)Address: (.*)</body>"
;   Url=http://icanhazip.com                                          RegExp="(?siU)^(.*)$"
;   Url=https://ipv4.wtfismyip.com/text                               RegExp="(?siU)^(.*)$"
;   Url=https://api.ipify.org/                                        RegExp="(?siU)^(.*)$"
;
; NOTE:  Websites that can be used for displaying your location based on your external IP address:
;
;   http://addgadgets.com/ipaddress/index.php?ipaddr=[MeasureIPWeb]
;   http://whatismyipaddress.com/ip/[MeasureIPWeb]
;   https://ipapi.co
;

; ------------------------------
; NETMONITOR COMMANDS

[MeasureRunResetSessionStats]
Measure=Plugin
Plugin=RunCommand
Parameter=""#@#Addons\NetMonitor\ResetSessionStats.cmd""
OutputType=ANSI
State=Hide
Timeout=5000
FinishAction=[!Update][!Redraw]

[MeasureRunResetAllStats]
Measure=Plugin
Plugin=RunCommand
Parameter=""#@#Addons\NetMonitor\ResetAllStats.cmd""
OutputType=ANSI
State=Hide
Timeout=5000
FinishAction=[!Update][!Redraw]

; ------------------------------
; WIFI

[MeasureWifiQuality]
Measure=Plugin
Plugin=WiFiStatus
WiFiInfoType=Quality
OnChangeAction=[!UpdateMeasure MeasureNetIconConfig]

[MeasureWifiDbm]
Measure=Calc
Formula=(MeasureWifiQuality / 2) - 100

[MeasureWifiSSID]
Measure=Plugin
Plugin=WiFiStatus
WiFiInfoType=SSID

; ------------------------------
; SPECIAL CASE

[MeasureNetIconConfig]
Measure=Calc
IfCondition=(MeasureAdapterType = 71)
IfTrueAction=[!SetVariable signal_fill_1 "([MeasureWifiQuality:] >= 66 ? 1 : 0)"][!SetVariable signal_fill_2 "([MeasureWifiQuality:] >= 33 ? 2 : 0)"][!SetVariable signal_fill_3 "([MeasureWifiQuality:] >= 5 ? 3 : 0)"][!SetVariable signal_fill_4 0][!SetVariable signal_dim_1 "([MeasureWifiQuality:] >= 66 ? 0 : 1)"][!SetVariable signal_dim_2 "([MeasureWifiQuality:] >= 33 ? 0 : 2)"][!SetVariable signal_dim_3 "([MeasureWifiQuality:] >= 5 ? 0 : 3)"][!SetVariable signal_dim_4 0][!UpdateMeter MeterNetIcon_]
IfCondition2=(MeasureAdapterType = 244) || (MeasureAdapterType = 243)
IfTrueAction2=[!SetVariable signal_fill_1 "([MeasureWifiQuality:] >= 75 ? 1 : 0)"][!SetVariable signal_fill_2 "([MeasureWifiQuality:] >= 50 ? 2 : 0)"][!SetVariable signal_fill_3 "([MeasureWifiQuality:] >= 25 ? 3 : 0)"][!SetVariable signal_fill_4 "([MeasureWifiQuality:] >= 5 ? 4 : 0)"][!SetVariable signal_dim_1 "([MeasureWifiQuality:] >= 75 ? 0 : 1)"][!SetVariable signal_dim_2 "([MeasureWifiQuality:] >= 50 ? 0 : 2)"][!SetVariable signal_dim_3 "([MeasureWifiQuality:] >= 25 ? 0 : 3)"][!SetVariable signal_dim_4 "([MeasureWifiQuality:] >= 5 ? 0 : 4)"][!UpdateMeter MeterNetIcon_]
IfConditionMode=1
DynamicVariables=1
UpdateDivider=-1
Group=NetIcon
Disabled=(([MeasureAdapterType:] <> 71) && ([MeasureAdapterType:] <> 244) && ([MeasureAdapterType:] <> 243))

[MeasureExternalIpString]
Measure=String
String=#externalIp#
Substitute="":"fetching...","(?s)^.*\<\!DOCTYPE html\>.*$":"PARSE ERROR"
RegExpSubstitute=1
DynamicVariables=1
IfCondition=#censorExternalIp# = 1
IfTrueAction=[!SetOption MeasureExternalIpString String "CENSORED"][!UpdateMeasure MeasureExternalIpString][!UpdateMeter MeterExternalIpValueString_][!Redraw]
IfFalseAction=[!SetOption MeasureExternalIpString String "#*externalIp*#"][!UpdateMeasure MeasureExternalIpString][!UpdateMeter MeterExternalIpValueString_][!Redraw]
IfMatch=PARSE ERROR
IfMatchAction=[!Log "foo"][!SetOption MeterExternalIpValueString_ fontColor "#*colorError*#"][!DisableMouseAction MeterExternalIpValueString "*"][!UpdateMeter MeterExternalIpValueString_][!Redraw]
IfNotMatchAction=[!SetOption MeterExternalIpValueString_ fontColor "#*colorMain*#"][!EnableMouseAction MeterExternalIpValueString "*"][!UpdateMeter MeterExternalIpValueString_][!Redraw]
IfMatch2=fetching...
IfMatchAction2=[!EnableMeasure MeasureExternalIp]

[MeasureNetSessionTotalRefreshButton]
Measure=String
String=#monitoringType#
IfMatch=standard
IfMatchAction=[!Log "Resetting network statistics" Notice][!UpdateMeasureGroup NetInOutBytesSessionTotalBase][!SetOption MeterNetSessionTotalRefreshButton_ ImageName "#imgPath#refresh-up.png"][!SetOption MeterNetSessionTotalRefreshButton_ ImageTint "#colorAccent#"][!UpdateMeter MeterNetSessionTotalRefreshButton_][!Redraw][!DisableMeasure #CURRENTSECTION#]
IfNotMatchAction=[!Log "Resetting network statistics" Notice][!CommandMeasure MeasureRunResetSessionStats "Run"][!SetOption MeterNetSessionTotalRefreshButton_ ImageName "#imgPath#refresh-up.png"][!SetOption MeterNetSessionTotalRefreshButton_ ImageTint "#colorAccent#"][!UpdateMeter MeterNetSessionTotalRefreshButton_][!Redraw][!DisableMeasure #CURRENTSECTION#]
IfMatchMode=1
UpdateDivider=-1
Disabled=1

[MeasureNetTotalRefreshButton]
Measure=String
String=#monitoringType#
IfMatch=standard
IfMatchAction=[!Log "Resetting network statistics" Notice][!ResetStats][!UpdateMeasureGroup NetInOut][!UpdateMeasureGroup NetInOutBytesSessionTotalBase][!SetOption MeterNetTotalRefreshButton_ ImageName "#imgPath#refresh-up.png"][!SetOption MeterNetTotalRefreshButton_ ImageTint "#colorAccent#"][!UpdateMeter MeterNetTotalRefreshButton_][!Redraw]
IfNotMatchAction=[!Log "Resetting all network statistics" Notice][!CommandMeasure MeasureRunResetAllStats "Run"][!SetOption MeterNetTotalRefreshButton_ ImageName "#imgPath#refresh-up.png"][!SetOption MeterNetTotalRefreshButton_ ImageTint "#colorAccent#"][!UpdateMeter MeterNetTotalRefreshButton_][!Redraw]
IfMatchMode=1
UpdateDivider=-1
Disabled=1

; ==================================================
;  METERS

[MeterBackground]
Meter=Shape
MeterStyle=StyleBackground

; ------------------------------
; GADGET HEADER

[MeterConfigButton_]
Meter=Shape
MeterStyle=StyleConfigButtonNew

[MeterSpeedtestButton_]
Meter=Shape
X=-26r
Y=r
Shape = Path Path1 | StrokeWidth 0 | Extend Fill
Shape2 = Path Path2 | StrokeWidth 0
Shape3 = Combine Shape1 | XOR Shape2 | Scale 0.5,0.5,0.0 | Offset 0,-7
Path1 = 13.5, 16.5 | LineTo 11.3, 14.2 | LineTo 18.6, 7.8 | LineTo 19.9, 9.2 | ClosePath 1
Path2 = 23, 23 | CurveTo 26.8, 13.9, 25.3, 20.7, 26.8, 17.5 | CurveTo 13.9, 1, 26.8, 6.8, 21, 1 | CurveTo 1, 13.9, 6.8, 1, 1, 6.8 | CurveTo 4.8, 23, 1, 17.5, 2.4, 20.7 | LineTo 6.6, 21.2 | CurveTo 3.6, 13.9, 4.7, 19.3, 3.6, 16.8 | CurveTo 13.9, 3.6, 3.6, 8.2, 8.2, 3.6 | CurveTo 24.2, 13.9, 19.6, 3.6, 24.2, 8.2 | CurveTo 21.2, 21.2, 24.2, 16.7, 23, 19.3 | LineTo 23, 23 | ClosePath 1
Fill=Fill Color #colorMain#
TransformationMatrix=#transformationMatrix#
Group=SpeedtestButton | SpeedtestButton#showSpeedtestButton#
DynamicVariables=1
Hidden=1

[MeterNetIcon_]
Meter=Shape
X=#contentMargin#
Y=#contentMargin#
TransformationMatrix=#transformationMatrix#
DynamicVariables=1
; Cellular Icon
Shape = Path PathCellular#signal_fill_1# | StrokeWidth 0 | Fill Color #colorAccent#,((([MeasureAdapterType:] = 244) || ([MeasureAdapterType:] = 243) && ([MeasureAdapterStatusCalc:] > 0)) ? 255 : 0)
Shape2 = Path PathCellular#signal_fill_2# | StrokeWidth 0
Shape3 = Path PathCellular#signal_fill_3# | StrokeWidth 0
Shape4 = Path PathCellular#signal_fill_4# | StrokeWidth 0
Shape5 = Combine Shape | XOR Shape2 | XOR Shape3 | XOR Shape4 | Scale 0.025,0.025,0,0 | Offset 2.5,-1.5
Shape6 = Path PathCellular#signal_dim_1# | StrokeWidth 0 | Fill Color #colorAccent#,((([MeasureAdapterType:] = 244) || ([MeasureAdapterType:] = 243) && ([MeasureAdapterStatusCalc:] > 0)) ? 255 : 0)
Shape7 = Path PathCellular#signal_dim_2# | StrokeWidth 0
Shape8 = Path PathCellular#signal_dim_3# | StrokeWidth 0
Shape9 = Path PathCellular#signal_dim_4# | StrokeWidth 0
Shape10 = Combine Shape6 | XOR Shape7 | XOR Shape8 | XOR Shape9 | Scale 0.025,0.025,0,00 | Offset 2.5,-1.5
PathCellular0 = 24, 96 | LineTo 488, 512
PathCellular1 = 472, 96 | LineTo 424, 96 | CurveTo 408, 112, 415.16, 96, 408, 103.16 | LineTo 408, 496 | CurveTo 424, 512, 408, 504.84, 415.16, 512 | LineTo 472, 512 | CurveTo 488, 496, 480.84, 512, 488, 504.84 | LineTo 488, 112 | CurveTo 472, 96, 488, 103.16, 480.84, 96 | ClosePath 1
PathCellular2 = 344, 192 | LineTo 296, 192 | CurveTo 280, 208, 287.16, 192, 280, 199.16 | LineTo 280, 496 | CurveTo 296, 512, 280, 504.84, 287.16, 512 | LineTo 344, 512 | CurveTo 360, 496, 352.84, 512, 360, 504.84 | LineTo 360, 208 | CurveTo 344, 192, 360, 199.16, 352.84, 192 | ClosePath 1
PathCellular3 = 216, 288 | LineTo 168, 288 | CurveTo 152, 304, 159.16, 288, 152, 295.16 | LineTo 152, 496 | CurveTo 168, 512, 152, 504.84, 159.16, 512 | LineTo 216, 512 | CurveTo 232, 496, 224.84, 512, 232, 504.84 | LineTo 232, 304 | CurveTo 216, 288, 232, 295.16, 224.84, 288 | ClosePath 1
PathCellular4 = 88, 384 | LineTo 40, 384 | CurveTo 24, 400, 31.16, 384, 24, 391.16 | LineTo 24, 496 | CurveTo 40, 512, 24, 504.84, 31.16, 512 | LineTo 88, 512 | CurveTo 104, 496, 96.84, 512, 104, 504.84 | LineTo 104, 400 | CurveTo 88, 384, 104, 391.16, 96.84, 384 | ClosePath 1
; Wifi Icon
Shape11 = Path PathWifi#signal_fill_1# | StrokeWidth 0 | Fill Color #colorAccent#,((([MeasureAdapterType:] = 71) && ([MeasureAdapterStatusCalc:] > 0)) ? 255 : 0)
Shape12 = Path PathWifi#signal_fill_2# | StrokeWidth 0
Shape13 = Path PathWifi#signal_fill_3# | StrokeWidth 0
Shape14 = Combine Shape11 | XOR Shape12 | XOR Shape13 | Scale 0.023,0.023,0,0 | Offset 1.5,0
Shape15 = Path PathWifi#signal_dim_1# | StrokeWidth 0 | Fill Color #colorAccent#,((([MeasureAdapterType:] = 71) && ([MeasureAdapterStatusCalc:] > 0)) ? 100 : 0)
Shape16 = Path PathWifi#signal_dim_2# | StrokeWidth 0
Shape17 = Path PathWifi#signal_dim_3# | StrokeWidth 0
Shape18 = Combine Shape15 | XOR Shape16 | XOR Shape17 | Scale 0.023,0.023,0,0 | Offset 1.5,0
PathWifi0 = 634.91,154.88 | LineTo 5.09,480
PathWifi1 = 634.91, 154.88 | CurveTo 5.09, 154.88, 457.74, -8.99, 182.19, -8.93 | CurveTo 4.74, 177.86, -1.57, 161.04, -1.7, 171.47 | LineTo 38.98, 211.83 | CurveTo 61.38, 212.21, 45.12, 217.93, 55, 218.06 | CurveTo 578.63, 212.21, 207.3, 78.53, 432.68, 78.5 | CurveTo 601.03, 211.83, 585.01, 218.06, 594.89, 217.92 | LineTo 635.27, 177.86 | CurveTo 634.91, 154.88, 641.7, 171.47, 641.57, 161.04 | ClosePath 1
PathWifi2 = 522.67, 268.41 | CurveTo 117.33, 268.41, 407.41, 166.48, 232.46, 166.59 | CurveTo 116.76, 291.56, 110.43, 274.51, 110.21, 285.1 | LineTo 151.2, 325.55 | CurveTo 173.25, 326.35, 157.2, 331.47, 166.86, 331.87 | CurveTo 466.74, 326.35, 257.2, 253.78, 382.99, 253.94 | CurveTo 488.79, 325.55, 473.13, 331.87, 482.79, 331.48 | LineTo 523.23, 291.56 | CurveTo 522.67, 268.41, 529.79, 285.1, 529.56, 274.5 | ClosePath 1
PathWifi3 = 320, 352 | CurveTo 256, 416, 284.65, 352, 256, 380.65 | CurveTo 320, 480, 256, 451.35, 284.65, 480 | CurveTo 384, 416, 355.35, 480, 384, 451.35 | CurveTo 320, 352, 384, 380.65, 355.35, 352 | ClosePath 1
; Wired Icon
Shape19 = Path PathWired1 | StrokeWidth 0 | Fill Color #colorAccent#,(([MeasureAdapterType:] = 6 && [MeasureAdapterStatusCalc:] > 0) ? 255 : 0)
Shape20= Path PathWired2 | StrokeWidth 0
Shape21 = Path PathWired3 | StrokeWidth 0
Shape22 = Path PathWired4 | StrokeWidth 0
Shape23 = Combine Shape19 | XOR Shape20 | XOR Shape21 | XOR Shape22 | Scale 0.022,0.022,0,0 | Offset 2,1
PathWired1 = 640, 264 | LineTo 640, 248 | CurveTo 624, 232, 640, 239.16, 632.84, 232 | LineTo 344, 232 | LineTo 344, 192 | LineTo 416, 192 | CurveTo 448, 160, 433.67, 192, 448, 177.67 | LineTo 448, 32 | CurveTo 416, 0, 448, 14.33, 433.67, 0 | LineTo 224, 0 | CurveTo 192, 32, 206.33, 0, 192, 14.33 | LineTo 192, 160 | CurveTo 224, 192, 192, 177.67, 206.33, 192 | LineTo 296, 192 | LineTo 296, 232 | LineTo 16, 232 | CurveTo 0, 248, 7.16, 232, 0, 239.16 | LineTo 0, 264 | CurveTo 16, 280, 0, 272.84, 7.16, 280 | LineTo 120, 280 | LineTo 120, 320 | LineTo 64, 320 | CurveTo 32, 352, 46.33, 320, 32, 334.33 | LineTo 32, 480 | CurveTo 64, 512, 32, 497.67, 46.33, 512 | LineTo 224, 512 | CurveTo 256, 480, 241.67, 512, 256, 497.67 | LineTo 256, 352 | CurveTo 224, 320, 256, 334.33, 241.67, 320 | LineTo 168, 320 | LineTo 168, 280 | LineTo 472, 280 | LineTo 472, 320 | LineTo 416, 320 | CurveTo 384, 352, 398.33, 320, 384, 334.33 | LineTo 384, 480 | CurveTo 416, 512, 384, 497.67, 398.33, 512 | LineTo 576, 512 | CurveTo 608, 480, 593.67, 512, 608, 497.67 | LineTo 608, 352 | CurveTo 576, 320, 608, 334.33, 593.67, 320 | LineTo 520, 320 | LineTo 520, 280 | LineTo 624, 280 | CurveTo 640, 264, 632.84, 280, 640, 272.84 | ClosePath 1
PathWired2 = 256, 128 | LineTo 256, 64 | LineTo 384, 64 | LineTo 384, 128 | LineTo 256, 128 | ClosePath 1
PathWired3 = 192, 448 | LineTo 96, 448 | LineTo 96, 384 | LineTo 192, 384 | LineTo 192, 448 | ClosePath 1
PathWired4 = 544, 448 | LineTo 448, 448 | LineTo 448, 384 | LineTo 544, 384 | LineTo 544, 448 | ClosePath 1
; Lan Only Icon
Shape24 = Rectangle ([#CURRENTSECTION#:W] - 7),([#CURRENTSECTION#:H] - 7),7,7 | Fill Color #colorBg#,([MeasureConnectedWan:] = 1 ? 0 : ([MeasureAdapterStatusCalc:] = 0 ? 0 : 255)) | StrokeWidth 0
Shape25 = Path XIconPath | StrokeWidth 0 | Fill Color #colorAccent#,([MeasureConnectedWan:] = 1 ? 0 : ([MeasureAdapterStatusCalc:] = 0 ? 0 : 255)) | Scale 0.013,0.013,0,0 | Offset ([#CURRENTSECTION#:W] - 5),([#CURRENTSECTION#:H] - 85)
; Disconnected Icon
Shape26 = Path XIconPath | StrokeWidth 0 | Fill Color 200,73,73,([MeasureAdapterStatusCalc:] = 0 ? 255 : 0) | Scale 0.028,0.028,0,0 | Offset 4.5,-78.8
XIconPath = 242.72, 256 | LineTo 342.79, 155.93 | CurveTo 342.79, 111.45, 355.07, 143.65, 355.07, 123.74 | LineTo 320.55, 89.21 | CurveTo 276.07, 89.21, 308.27, 76.93, 288.36, 76.93 | LineTo 176, 189.28 | LineTo 75.93, 89.21 | CurveTo 31.45, 89.21, 63.65, 76.93, 43.74, 76.93 | LineTo 9.21, 111.45 | CurveTo 9.21, 155.93, -3.07, 123.73, -3.07, 143.64 | LineTo 109.28, 256 | LineTo 9.21, 356.07 | CurveTo 9.21, 400.55, -3.07, 368.35, -3.07, 388.26 | LineTo 31.45, 422.79 | CurveTo 75.93, 422.79, 43.73, 435.07, 63.65, 435.07 | LineTo 176, 322.72 | LineTo 276.07, 422.79 | CurveTo 320.55, 422.79, 288.35, 435.07, 308.27, 435.07 | LineTo 342.79, 400.55 | CurveTo 342.79, 356.07, 355.07, 388.27, 355.07, 368.36 | LineTo 242.72, 256 | ClosePath 1

[MeterGadgetTitle]
Meter=String
MeterStyle=StyleString | StyleStringGadgetLabel
X=3R
Text=Network Meter
Group=NetIconUtils
DynamicVariables=1

; ------------------------------
; IPs

[InternalIpString]
Meter=String
MeterStyle=StyleString
MeasureName=MeasureInternalIp
Text=Int IP: %1

[ExternalIpLabelString]
Meter=String
MeterStyle=StyleString
Text=Ext IP: 

[MeterExternalIpValueString_]
Meter=String
MeterStyle=StyleString
MeasureName=MeasureExternalIpString
X=3R
Y=r
Group=ExternalIp
DynamicVariables=1
Text=%1

[MeterExternalIpRefreshButton_]
Meter=Shape
MeterStyle=StyleRefreshButton
Group=ConfigButton
Hidden=1

[MeterExternalIpVisibilityButton_]
Meter=Shape
X=-18r
Y=1r
Shape = Path Path#censorExternalIp#1 | StrokeWidth 0 | Extend Fill
Shape2 = Path Path#censorExternalIp#2 | StrokeWidth 0
Shape3 = Path Path#censorExternalIp#3 | StrokeWidth 0
Shape4 = Combine Shape1 | XOR Shape2 | XOR Shape3 | Scale 0.02,0.02,0,0 | Offset (#censorExternalIp# = 1 ? -0.6 : 0),1
Path01 = 572.52, 241.4 | CurveTo 288, 64, 518.29, 135.59, 410.93, 64 | CurveTo 3.48, 241.41, 165.07, 64, 57.68, 135.64 | ArcTo 3.48, 270.6, 32.35, 32.35, 0, 1, 0 | CurveTo 288, 448, 57.71, 376.41, 165.07, 448 | CurveTo 572.52, 270.59, 410.93, 448, 518.32, 376.36 | ArcTo 572.52, 241.4, 32.35, 32.35, 0, 1, 0 | ClosePath 1
Path02 = 288, 400 | ArcTo 432, 256, 144, 144, 0, 0, 1 | ArcTo 288, 400, 143.93, 143.93, 0, 0, 0 | ClosePath 1
Path03 = 288, 160 | ArcTo 262.69, 163.79, 95.31, 95.31, 0, 1, 0 | ArcTo 195.79, 230.69, 47.85, 47.85, 0, 0, 0 | ArcTo 288, 160, 95.78, 95.78, 0, 1, 1 | ClosePath 1
Path11 = 320, 400 | CurveTo 177.1, 266.89, 244.15, 400, 182.75, 341.29 | LineTo 72.2, 185.82 | CurveTo 35.48, 241.41, 58.41, 203.12, 45.72, 221.41 | ArcTo 35.48, 270.6, 32.35, 32.35, 0, 1, 0 | CurveTo 320, 448, 89.71, 376.41, 197.07, 448 | CurveTo 397.89, 437.54, 346.91, 448, 372.87, 444 | LineTo 346, 397.39 | ArcTo 320, 400, 144.13, 144.13, 0, 0, 0 | ClosePath 1
Path12 = 633.82, 458.1 | LineTo 523.27, 372.66 | ArcTo 604.52, 270.59, 331.25, 331.25, 0, 1, 0 | ArcTo 604.52, 241.4, 32.35, 32.35, 0, 1, 0 | CurveTo 320, 64, 550.29, 135.59, 442.93, 64 | ArcTo 172.68, 101.7, 308.15, 308.15, 0, 1, 0 | LineTo 45.46, 3.37 | ArcTo 23, 6.18, 16, 16, 0, 1, 0 | LineTo 3.37, 31.45 | ArcTo 6.18, 53.9, 16, 16, 0, 1, 0 | LineTo 594.54, 508.63 | ArcTo 617, 505.82, 16, 16, 0, 1, 0 | LineTo 636.64, 480.55 | ArcTo 633.82, 458.1, 16, 16, 0, 1, 0 | ClosePath 1
Path13 = 450.1, 316.1 | LineTo 410.8, 285.72 | ArcTo 416, 256, 94.75, 94.75, 0, 1, 0 | ArcTo 294.69, 163.79, 94.76, 94.76, 0, 1, 0 | ArcTo 304, 192, 47.65, 47.65, 0, 0, 0 | ArcTo 302.46, 202, 46.64, 46.64, 0, 0, 0 | LineTo 228.85, 145.11 | ArcTo 320, 112, 142.31, 142.31, 0, 0, 0 | ArcTo 464, 256, 143.92, 143.92, 0, 0, 0 | CurveTo 450.1, 316.11, 464, 277.63, 458.71, 297.79 | ClosePath 1
Fill=Fill Color #colorAccent#
TransformationMatrix=#transformationMatrix#
DynamicVariables=1
Group=ConfigButton | ExternalIp
Hidden=1

[Placeholder]
Meter=String
MeterStyle=StyleString
FontColor=255,255,255,0
Y=-1r
Text=hi

[PingString]
Meter=String
MeterStyle=StyleString
MeasureName=MeasurePing
Y=((#showPing# = 0) ? (#rowSpacing# - 1) : #rowSpacing#)R
Text=Ping: %1 ms
DynamicVariables=1
Hidden=(#showPing# = 0) ? 1 : 0

; ------------------------------
; NET IN/OUT

; Network Out
[MeterNetOutBitsCurrentIcon]
Meter=Shape
MeterStyle=StyleArrowIcon | StyleDynamicVariables
Extend=Fill Color #colorUpload#

[MeterNetOutBitsCurrent]
Meter=String
MeterStyle=StyleString | StyleStringArrowIconLabel
FontFace=#netInOutFontFace#
Text=#textNetOutBits#b/s
DynamicVariables=1
Group=NetInOut | NetInOutFontFace

[MeterNetOutBytesCurrentIcon]
Meter=Shape
MeterStyle=StyleArrowIcon | StyleArrowIconInline | StyleDynamicVariables
Extend=Fill Color #colorUpload#

[NetOutBytesCurrent]
Meter=String
MeterStyle=StyleString | StyleStringArrowIconLabel
FontFace=#netInOutFontFace#
Text=#textNetOutBytes#B/s
DynamicVariables=1
Group=NetInOut | NetInOutFontFace

; Network In
[MeterNetInBitsCurrentIcon]
Meter=Shape
MeterStyle=StyleArrowIcon | StyleDynamicVariables
Extend=Rotate 180 | Fill Color #colorDownload#

[MeterNetInBitsCurrent]
Meter=String
MeterStyle=StyleString | StyleStringArrowIconLabel
FontFace=#netInOutFontFace#
Text=#textNetInBits#b/s
DynamicVariables=1
Group=NetInOut | NetInOutFontFace

[MeterNetInBytesCurrentIcon]
Meter=Shape
MeterStyle=StyleArrowIcon | StyleArrowIconInline | StyleDynamicVariables
Extend=Rotate 180 | Fill Color #colorDownload#

[NetInBytesCurrent]
Meter=String
MeterStyle=StyleString | StyleStringArrowIconLabel
FontFace=#netInOutFontFace#
Text=#textNetInBytes#B/s
DynamicVariables=1
Group=NetInOut | NetInOutFontFace

; ------------------------------
; NETWORK PEAKS

[MeterNetInOutPeakBitsIcon]
Meter=Shape
MeterStyle=StylePeakIcon
Group=NetPeaks | NetInOutFontFace
Hidden=(#showPeakNetworkUsage# = 0)

[NetInOutPeakBitsString]
Meter=String
MeterStyle=StyleString
FontFace=#netInOutFontFace#
X=3R
Y=r
Text=#textNetInOutPeakBits#b/s
DynamicVariables=1
Group=NetPeaks | NetInOutFontFace
Hidden=(#showPeakNetworkUsage# = 0)

[MeterNetInOutPeakBytesIcon]
Meter=Shape
MeterStyle=StylePeakIcon
X=(#columnX#)
Y=r
Group=NetPeaks | NetInOutFontFace
Hidden=(#showPeakNetworkUsage# = 0)

[NetInOutPeakBytesString]
Meter=String
MeterStyle=StyleString
FontFace=#netInOutFontFace#
X=3R
Y=r
Text=#textNetInOutPeakBytes#B/s
DynamicVariables=1
Group=NetPeaks | NetInOutFontFace
Hidden=(#showPeakNetworkUsage# = 0)

; ------------------------------
; NETWORK TOTALS

[NetInOutSessionTotalLabelString]
Meter=String
MeterStyle=StyleString
FontColor=#colorDim#,230
FontWeight=600
X=((#contentWIdth# / 4) - 15)
Y=((#showNetTotals# = 1) ? #rowSpacing# : -1)R
Text=Session
Group=NetTotals
Hidden=(#showNetTotals# = 0)

[MeterNetSessionTotalRefreshButton_]
Meter=Shape
MeterStyle=StyleRefreshButton
X=3R
Y=r
Group=NetTotalsRefreshButtons | NetTotalsRefreshButtons#showNetTotals#
DynamicVariables=1
Hidden=1

[NetInOutTotalLabelString]
Meter=String
MeterStyle=StyleString
FontColor=#colorDim#,230
FontWeight=600
X=((#contentWIdth# / 4) * 3 - 3)
Y=r
Text=Total
Group=NetTotals
Hidden=(#showNetTotals# = 0)

[MeterNetTotalRefreshButton_]
Meter=Shape
MeterStyle=StyleRefreshButton
X=4R
Y=r
Group=NetTotalsRefreshButtons | NetTotalsRefreshButtons#showNetTotals#
DynamicVariables=1
Hidden=1

[NetInOutPlaceholderString]
Meter=String
MeterStyle=StyleString
Y=r
FontColor=0,0,0,0
Text=foo
Group=NetTotals
Hidden=(#showNetTotals# = 0)

[MeterNetOutBytesSessionTotalIcon]
Meter=Shape
MeterStyle=StyleArrowIcon | StyleDynamicVariables
Extend=Fill Color #colorUpload#
Group=NetTotals
Hidden=(#showNetTotals# = 0)

[MeterNetOutBytesSessionTotal]
Meter=String
MeterStyle=StyleString | StyleStringArrowIconLabel
FontFace=#netInOutFontFace#
Text=#textNetOutSessionTotal#B
DynamicVariables=1
Group=NetTotals
Hidden=(#showNetTotals# = 0)

[MeterNetOutBytesTotalIcon]
Meter=Shape
MeterStyle=StyleArrowIcon | StyleArrowIconInline | StyleDynamicVariables
Extend=Fill Color #colorUpload#
Group=NetTotals
Hidden=(#showNetTotals# = 0)

[MeterNetOutBytesTotal]
Meter=String
MeterStyle=StyleString | StyleStringArrowIconLabel
FontFace=#netInOutFontFace#
Text=#textNetOutTotal#B
DynamicVariables=1
Group=NetTotals
Hidden=(#showNetTotals# = 0)

[MeterNetInBytesSessionTotalIcon]
Meter=Shape
MeterStyle=StyleArrowIcon | StyleDynamicVariables
Extend=Rotate 180 | Fill Color #colorDownload#
Group=NetTotals
Hidden=(#showNetTotals# = 0)

[MeterNetInBytesSessionTotal]
Meter=String
MeterStyle=StyleString | StyleStringArrowIconLabel
FontFace=#netInOutFontFace#
Text=#textNetInSessionTotal#B
DynamicVariables=1
Group=NetTotals
Hidden=(#showNetTotals# = 0)

[MeterNetInBytesTotalIcon]
Meter=Shape
MeterStyle=StyleArrowIcon | StyleArrowIconInline | StyleDynamicVariables
Extend=Rotate 180 | Fill Color #colorDownload#
Group=NetTotals
Hidden=(#showNetTotals# = 0)

[MeterNetInBytesTotal]
Meter=String
MeterStyle=StyleString | StyleStringArrowIconLabel
FontFace=#netInOutFontFace#
Text=#textNetInTotal#B
DynamicVariables=1
Group=NetTotals
Hidden=(#showNetTotals# = 0)

; ------------------------------
; GRAPH

[LineGraphBackground]
Meter=Shape
MeterStyle=StyleLineGraphBackground
Y=((#showLineGraph# = 1) ? #rowSpacing# : -2)R

[LineGraph]
Meter=Line
MeterStyle=StyleLineGraph
AutoScale=1
LineCount=2
MeasureName=MeasureNetInBytes
MeasureName2=MeasureNetOutBytes
LineColor=#colorDownload#
LineColor2=#colorUpload#

[MeterLineGraphBackgroundOverlay]
Meter=Shape
MeterStyle=StyleLineGraphBackgroundOverlay
Shape3=Combine Shape | XOR Shape2
Y=-1r
DynamicVariables=1

; [LineGraphBgAdjustor]
; Meter=Image
; MeterStyle=StyleLineGraphBgAdjustor

[MeterBackgroundHeight]
Meter=Image
MeterStyle=StyleBackgroundHeight

; ------------------------------
; MOUSE REGIONS

[MeterNetIcon]
Meter=Image
MeterStyle=StyleMouseRegion
DynamicVariables=1
ToolTipIcon=[#netIconTooltipIcon_[&MeasureAdapterType:]_[&MeasureConnectedWan:]]
ToolTipTitle=[MeasureInterfaceName]
ToolTipText=[#netIconTooltipText_[&MeasureAdapterType:]_[&MeasureConnectedWan:]]
Group=NetIconUtils

[MeterSpeedtestButton]
Meter=Image
MeterStyle=StyleMouseRegion | StyleMouseRegionShapeButtonHover
LeftMouseUpAction=["https://speedtest.net"]
ToolTipText=Visit speedtest.net
Group=SpeedtestButton1 | SpeedtestButton
Hidden=1

[MeterConfigButton]
Meter=Image
MeterStyle=StyleMouseRegion | StyleMouseRegionShapeButtonHover
LeftMouseUpAction=[!SkinCustomMenu]
Group=ConfigButton
Hidden=1

[MeterExternalIpValueString]
Meter=Image
MeterStyle=StyleMouseRegion | StyleMouseRegionStringButtonHover
LeftMouseUpAction=["https://ipapi.co"]
ToolTipText=View your location based on your IP address

[MeterExternalIpRefreshButton]
Meter=Image
MeterStyle=StyleMouseRegion | StyleMouseRegionShapeRefreshButton
LeftMouseUpAction=[!Log "Refreshing external IP address" Notice][!EnableMeasure MeasureExternalIp][!CommandMeasure MeasureExternalIp "Reset"][!CommandMeasure MeasureExternalIp "Update"][!SetOption #CURRENTSECTION#_ Fill "Fill Color #colorAccent#"][!UpdateMeter #CURRENTSECTION#_][!Redraw]
ToolTipText=Refresh external IP
Group=ConfigButton
Hidden=1

[MeterExternalIpVisibilityButton]
Meter=Image
MeterStyle=StyleMouseRegion | StyleMouseRegionShapeButtonHover
MouseLeaveAction=[!SetOption #CURRENTSECTION#_ Fill "Fill Color #colorAccent#"][!UpdateMeter #CURRENTSECTION#_][!Redraw]
LeftMouseUpAction=[!CommandMeasure MeasureSettingsScript "Toggle('censorExternalIp', '1', '0', 'ExternalIpAction')"]
ToolTipText=Toggle external IP visibility
Group=ConfigButton
Hidden=1

[MeterNetSessionTotalRefreshButton]
Meter=Image
MeterStyle=StyleMouseRegion | StyleMouseRegionShapeRefreshButton
LeftMouseUpAction=[!EnableMeasure MeasureNetSessionTotalRefreshButton][!UpdateMeasure MeasureNetSessionTotalRefreshButton][!SetOption #CURRENTSECTION#_ Fill "Fill Color #colorAccent#"][!UpdateMeter #CURRENTSECTION#_][!Redraw]
ToolTipText=Reset session statistics
Group=NetTotalsRefreshButtons | NetTotalsRefreshButtons#showNetTotals#
Hidden=1

[MeterNetTotalRefreshButton]
Meter=Image
MeterStyle=StyleMouseRegion | StyleMouseRegionShapeRefreshButton
LeftMouseUpAction=[!EnableMeasure MeasureNetTotalRefreshButton][!UpdateMeasure MeasureNetTotalRefreshButton][!SetOption #CURRENTSECTION#_ Fill "Fill Color #colorAccent#"][!UpdateMeter #CURRENTSECTION#_][!Redraw]
ToolTipText=Reset all network statistics
Group=NetTotalsRefreshButtons | NetTotalsRefreshButtons#showNetTotals#
Hidden=1
